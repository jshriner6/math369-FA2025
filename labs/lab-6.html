<!DOCTYPE html>
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<html lang="en-US" dir="ltr">
<!--******************************************-->
<!--*  Authored with PreTeXt                 *-->
<!--*  pretextbook.org                       *-->
<!--*  Theme: greeley                        *-->
<!--*  Palette:                              *-->
<!--******************************************-->
<head xmlns:og="http://ogp.me/ns#" xmlns:book="https://ogp.me/ns/book#">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Lab 6: Googleâ€™s PageRank Algorithm</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0">
<link href="_static/pretext/css/theme.css" rel="stylesheet" type="text/css">
<script>
var runestoneMathReady = new Promise((resolve) => window.rsMathReady = resolve);
window.MathJax = {
  "tex": {
    "inlineMath": [
      [
        "\\(",
        "\\)"
      ]
    ],
    "tags": "none",
    "tagSide": "right",
    "tagIndent": ".8em",
    "packages": {
      "[+]": [
        "base",
        "extpfeil",
        "ams",
        "amscd",
        "color",
        "newcommand",
        "knowl"
      ]
    }
  },
  "options": {
    "ignoreHtmlClass": "tex2jax_ignore|ignore-math",
    "processHtmlClass": "process-math"
  },
  "chtml": {
    "scale": 0.98,
    "mtextInheritFont": true
  },
  "loader": {
    "load": [
      "input/asciimath",
      "[tex]/extpfeil",
      "[tex]/amscd",
      "[tex]/color",
      "[tex]/newcommand",
      "[pretext]/mathjaxknowl3.js"
    ],
    "paths": {
      "pretext": "_static/pretext/js/lib"
    }
  },
  "startup": {
    pageReady() {
      return MathJax.startup.defaultPageReady().then(function () {
      console.log("in ready function");
      rsMathReady();
      }
    )}
  }
};
</script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><meta name="Keywords" content="Authored in PreTeXt">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta property="og:type" content="article">
<script src="_static/pretext/js/lib/jquery.min.js"></script><script src="_static/pretext/js/lib/jquery.sticky.js"></script><script src="_static/pretext/js/lib/jquery.espy.min.js"></script><script src="_static/pretext/js/pretext.js"></script><script src="_static/pretext/js/pretext_add_on.js?x=1"></script><script src="_static/pretext/js/user_preferences.js"></script><!--** eBookCongig is necessary to configure interactive       **-->
<!--** Runestone components to run locally in reader's browser **-->
<!--** No external communication:                              **-->
<!--**     log level is 0, Runestone Services are disabled     **-->
<script type="text/javascript">
eBookConfig = {};
eBookConfig.useRunestoneServices = false;
eBookConfig.host = 'http://127.0.0.1:8000';
eBookConfig.course = 'PTX_Course_Title_Here';
eBookConfig.basecourse = 'PTX_Base_Course';
eBookConfig.isLoggedIn = false;
eBookConfig.email = '';
eBookConfig.isInstructor = false;
eBookConfig.logLevel = 0;
eBookConfig.username = '';
eBookConfig.readings = null;
eBookConfig.activities = null;
eBookConfig.downloadsEnabled = false;
eBookConfig.allow_pairs = false;
eBookConfig.enableScratchAC = false;
eBookConfig.build_info = "";
eBookConfig.python3 = null;
eBookConfig.runestone_version = '7.9.18';
eBookConfig.jobehost = '';
eBookConfig.proxyuri_runs = '';
eBookConfig.proxyuri_files = '';
eBookConfig.enable_chatcodes =  false;
</script>
<!--*** Runestone Services ***-->
<script src="_static/prefix-runtime.cefb0224014f3333.bundle.js"></script><script src="_static/prefix-723.3e6434f80549315a.bundle.js"></script><script src="_static/prefix-runestone.c50cdcad467c8d3e.bundle.js"></script><link rel="stylesheet" type="text/css" href="_static/prefix-723.3bccd435914aa0ff.css">
<link rel="stylesheet" type="text/css" href="_static/prefix-runestone.557d81b04b3ec0e4.css">
<script src="_static/pretext/js/lti_iframe_resizer.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.9/lunr.min.js" integrity="sha512-4xUl/d6D6THrAnXAwGajXkoWaeMNwEKK4iNfq5DotEbLPAfk6FSxSP3ydNxqDgCw1c/0Z1Jg6L8h2j+++9BZmg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><script src="lunr-pretext-search-index.js" async=""></script><script src="_static/pretext/js/pretext_search.js"></script><script src="_static/pretext/js/lib/knowl.js"></script><!--knowl.js code controls Sage Cells within knowls--><script>sagecellEvalName='Evaluate (Sage)';
</script>
</head>
<body class="pretext article ignore-math">
<a class="assistive" href="#ptx-content">Skip to main content</a><header id="ptx-masthead" class="ptx-masthead"><div class="ptx-banner"><div class="title-container">
<h1 class="heading"><a href="labs.html"><span class="title">Labs</span></a></h1>
<p class="byline"></p>
</div></div></header><nav id="ptx-navbar" class="ptx-navbar navbar"><div class="ptx-navbar-contents">
<button class="toc-toggle button" title="Contents"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5d2;</span><span class="name">Contents</span></button><div class="searchbox">
<div class="searchwidget"><button id="searchbutton" class="searchbutton button" type="button" title="Search book"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe8b6;</span><span class="name">Search Book</span></button></div>
<div id="searchresultsplaceholder" class="searchresultsplaceholder" style="display: none">
<div class="search-results-controls">
<input aria-label="Search term" id="ptxsearch" class="ptxsearch" type="text" name="terms" placeholder="Search term"><button title="Close search" id="closesearchresults" class="closesearchresults"><span class="material-symbols-outlined">close</span></button>
</div>
<h2 class="search-results-heading">Search Results: </h2>
<div id="searchempty" class="searchempty"><span>No results.</span></div>
<ol id="searchresults" class="searchresults"></ol>
</div>
</div>
<span class="nav-other-controls"><button id="embed-button" class="embed-button button" title="Embed this page"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe86f;</span><span class="name">Embed</span></button><div class="embed-popup hidden" id="embed-popup">
<p>Copy the code below to embed this page in your own website or LMS page.</p>
<div class="embed-code-container">
<textarea class="embed-code-textbox" id="embed-code-textbox" readonly aria-label="textbox"><iframe src="https://example.com/embed" width="100%" height="1000"></iframe></textarea><button class="copy-embed-button button" id="copy-embed-button" title="Copy embed code"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe14d;</span><span class="name">Copy</span></button>
</div>
</div>
<button id="light-dark-button" class="light-dark-button button" title="Dark Mode"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe51c;</span><span class="name">Dark Mode</span></button></span><span class="treebuttons"><a class="previous-button button" href="lab-5.html" title="Previous"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5cb;</span><span class="name">Prev</span></a><a class="up-button button" href="labs.html" title="Up"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5ce;</span><span class="name">Up</span></a><span class="next-button button disabled"><span class="name">Next</span><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5cc;</span></span></span>
</div></nav><div id="latex-macros" class="hidden-content process-math" style="display:none"><span class="process-math">\(\newcommand{\N}{\mathbb N}
\newcommand{\Z}{\mathbb Z}
\newcommand{\Q}{\mathbb Q}
\newcommand{\R}{\mathbb R}
\newcommand{\bvec}{{\mathbf b}}
\newcommand{\evec}{{\mathbf e}}
\newcommand{\fvec}{{\mathbf f}}
\newcommand{\nvec}{{\mathbf n}}
\newcommand{\pvec}{{\mathbf p}}
\newcommand{\qvec}{{\mathbf q}}
\newcommand{\svec}{{\mathbf s}}
\newcommand{\tvec}{{\mathbf t}}
\newcommand{\uvec}{{\mathbf u}}
\newcommand{\vvec}{{\mathbf v}}
\newcommand{\wvec}{{\mathbf w}}
\newcommand{\xvec}{{\mathbf x}}
\newcommand{\yvec}{{\mathbf y}}
\newcommand{\zvec}{{\mathbf z}}
\newcommand{\rvec}{{\mathbf r}}
\newcommand{\mvec}{{\mathbf m}}
\newcommand{\zerovec}{{\mathbf 0}}
\newcommand{\onevec}{{\mathbf 1}}
\newcommand{\twovec}[2]{\left[\begin{array}{r}#1 \\ #2
\end{array}\right]}
\newcommand{\ctwovec}[2]{\left[\begin{array}{c}#1 \\ #2
\end{array}\right]}
\newcommand{\threevec}[3]{\left[\begin{array}{r}#1 \\ #2 \\ #3
\end{array}\right]}
\newcommand{\cthreevec}[3]{\left[\begin{array}{c}#1 \\ #2 \\ #3
\end{array}\right]}
\newcommand{\fourvec}[4]{\left[\begin{array}{r}#1 \\ #2 \\ #3 \\ #4
\end{array}\right]}
\newcommand{\cfourvec}[4]{\left[\begin{array}{c}#1 \\ #2 \\ #3 \\ #4
\end{array}\right]}
\newcommand{\fivevec}[5]{\left[\begin{array}{r}#1 \\ #2 \\ #3 \\
#4 \\ #5 \\ \end{array}\right]}
\newcommand{\cfivevec}[5]{\left[\begin{array}{c}#1 \\ #2 \\ #3 \\
#4 \\ #5 \\ \end{array}\right]}

\newcommand{\laspan}[1]{\text{Span}\{#1\}}
 \newcommand{\real}{{\mathbb R}}

 \newcommand{\bcal}{{\cal B}}
\newcommand{\ccal}{{\cal C}}
\newcommand{\scal}{{\cal S}}
\newcommand{\wcal}{{\cal W}}
\newcommand{\ecal}{{\cal E}}
 \newcommand{\coords}[2]{\left\{#1\right\}_{#2}}

 \newcommand{\col}{\text{Col}}
 \newcommand{\nul}{\text{Nul}}
 \newcommand{\rank}{\text{Rank}}

 \newcommand{\mattwo}[4]{\left[\begin{array}{rr}#1 \amp #2 \\ #3 \amp #4 \\ \end{array}\right]}

 \newcommand{\avec}{{\mathbf a}}
\newcommand{\lt}{&lt;}
\newcommand{\gt}{&gt;}
\newcommand{\amp}{&amp;}
\definecolor{fillinmathshade}{gray}{0.9}
\newcommand{\fillinmath}[1]{\mathchoice{\colorbox{fillinmathshade}{$\displaystyle     \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\textstyle        \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\scriptstyle      \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\scriptscriptstyle\phantom{\,#1\,}$}}}
\)</span></div>
<div class="ptx-page">
<div id="ptx-sidebar" class="ptx-sidebar"><nav id="ptx-toc" class="ptx-toc depth1"><ul class="structural toc-item-list contains-active">
<li class="toc-item toc-worksheet"><div class="toc-title-box"><a href="lab-1.html" class="internal"><span class="title">Lab 1: Systems of Equations</span></a></div></li>
<li class="toc-item toc-worksheet"><div class="toc-title-box"><a href="lab-2.html" class="internal"><span class="title">Lab 2: Markov Chains</span></a></div></li>
<li class="toc-item toc-worksheet"><div class="toc-title-box"><a href="lab-3.html" class="internal"><span class="title">Lab 3: Computer Animation</span></a></div></li>
<li class="toc-item toc-worksheet"><div class="toc-title-box"><a href="lab-4.html" class="internal"><span class="title">Lab 4: Image Compression</span></a></div></li>
<li class="toc-item toc-worksheet"><div class="toc-title-box"><a href="lab-5.html" class="internal"><span class="title">Lab 5: Dynamical Systems</span></a></div></li>
<li class="toc-item toc-worksheet active"><div class="toc-title-box"><a href="lab-6.html" class="internal"><span class="title">Lab 6: Googleâ€™s PageRank Algorithm</span></a></div></li>
</ul></nav></div>
<main class="ptx-main"><div id="ptx-content" class="ptx-content"><section class="worksheet" id="lab-6" data-margins="1in 1in 1.25cm 1in"><h2 class="heading hide-type">
<span class="type">Worksheet</span><span class="space heading-divison-mark heading-divison-mark__space"> </span><span class="codenumber"></span><span class="space heading-divison-mark heading-divison-mark__space"> </span><span class="title">Lab 6: Googleâ€™s PageRank Algorithm</span><div class="print-links"><a href="lab-6-printable.html" class="print-link" title="Print preview"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe8ad;</span></a></div>
</h2>
<section class="introduction" id="lab-6-2"><div class="para" id="lab-6-2-1">Complete the following exercises in groups of 2 or 3 students including complete explanations of your work.  You should write directly on this handout (if additional pages are necessary, please make sure they are well-organized), and you only need to submit one report to Gradescope.  Make sure you indicate everyone in your group in your submission to Gradescope.<div class="autopermalink" data-description="Paragraph"><a href="#lab-6-2-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<div class="para" id="lab-6-2-2">When I recently googled the phrase â€œlinear algebraâ€, Google told me there were about 78.5 million results, which took less than half a second to produce. It also told me that the Wikipedia page was the one most likely to be useful to me. How does Google decide to recommend that page above all the others? Well, Google computes a quantity called <dfn class="terminology">PageRank</dfn> for each page on the internet. Pages with a higher PageRank are deemed to be more valuable. The key to computing PageRank lies in an algorithm that weâ€™ll study in this lab.<div class="autopermalink" data-description="Paragraph"><a href="#lab-6-2-2" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<div class="para" id="lab-6-2-3">One could determine the importance of a web page by allowing people to vote for their favorite web pages. However, Google wants their rankings to be free of any human bias, so it examines the structure of the internet itself to rank pages. Here is the basic idea: if my home page is valuable, many other pages will link to it. Of course, I could try to sway the rankings by creating lots of pages that link to my home page. So Google views a page as being more valuable when valuable pages link to it. For instance, if three of my friends link to my home page, that means three people think I have a valuable page. But if nytimes.com, amazon.com, and beyonce.com link to my page, that probably means more people will find my page to be valuable, so I should have a higher PageRank.<div class="autopermalink" data-description="Paragraph"><a href="#lab-6-2-3" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<div class="para" id="lab-6-2-4">Weâ€™ll describe here how to compute PageRank, then work through several examples. Each webpage has a certain value of PageRank that we denote by <span class="process-math">\(x_i\text{.}\)</span> Each page divides its PageRank value into equal portions, one for each outgoing link. Each page then gives one portion of its PageRank to each page it links to. A pageâ€™s PageRank is then the sum of all the PageRank it receives from pages that link to it.<div class="autopermalink" data-description="Paragraph"><a href="#lab-6-2-4" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<div class="para" id="lab-6-2-5">Letâ€™s look at some examples to make this more concrete. If you visit this <a class="external" href="http://gvsu.edu/s/0To" target="_blank">Sage page</a>, you will find some Sage code that will be helpful for this lab. Be sure to evaluate the first cell to gain access to useful commands, and then donâ€™t use that cell again. Whenever you use Sage to compute something to answer a question, you should paste a screenshot of your code and result.<div class="autopermalink" data-description="Paragraph"><a href="#lab-6-2-5" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div></section><article class="exercise exercise-like" id="lab-6-3"><h3 class="heading"><span class="codenumber">1<span class="period heading-divison-mark heading-divison-mark__period">.</span></span></h3>
<div class="introduction" id="lab-6-3-1">
<div class="para logical" id="lab-6-3-1-1">
<div class="para">Suppose that our Internet only has three pages with links as shown below. Page 2 only links to page 1 so it gives all of its PageRank <span class="process-math">\(x_2\)</span> to Page 1. Page 3 has two outgoing links so it divides its PageRank <span class="process-math">\(x_3\)</span> into two equal pieces and gives half its PageRank <span class="process-math">\(\frac{x_3}{2}\)</span> to Page 1. The PageRank <span class="process-math">\(x_1\)</span> is therefore</div>
<div class="displaymath process-math">
\begin{equation*}
x_1 = x_2 + \frac{x_3}{2}\text{.}
\end{equation*}
</div>
<div class="autopermalink" data-description="Paragraph"><a href="#lab-6-3-1-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<div class="image-box" style="width: 25%; margin-left: 37.5%; margin-right: 37.5%;"><img src="external/internet1.png" class="contained" alt="Directed graph showing pages 1 and 2 and 1 and 3 are connected in both directions, while page 3 is connected to page 2, but page 2 is not connected to page 3."></div>
</div>
<article class="task exercise-like" id="lab-6-3-2"><h4 class="heading"><span class="codenumber">(a)</span></h4>
<div class="para" id="lab-6-3-2-1-1">Find similar expressions for <span class="process-math">\(x_2\)</span> and <span class="process-math">\(x_3\text{.}\)</span><div class="autopermalink" data-description="Paragraph"><a href="#lab-6-3-2-1-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<div class="workspace" data-space="1in"></div>
<div class="autopermalink" data-description="Task 1.a"><a href="#lab-6-3-2" title="Copy heading and permalink for Task 1.a" aria-label="Copy heading and permalink for Task 1.a">ğŸ”—</a></div></article><article class="task exercise-like" id="lab-6-3-3"><h4 class="heading"><span class="codenumber">(b)</span></h4>
<div class="para" id="lab-6-3-3-1-1">If we write <span class="process-math">\(\xvec = \threevec{x_1}{x_2}{x_3}\text{,}\)</span> find the â€œGoogle matrixâ€ <span class="process-math">\(G\)</span> such that <span class="process-math">\(\xvec = G \xvec\text{.}\)</span><div class="autopermalink" data-description="Paragraph"><a href="#lab-6-3-3-1-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<div class="workspace" data-space="1in"></div>
<div class="autopermalink" data-description="Task 1.b"><a href="#lab-6-3-3" title="Copy heading and permalink for Task 1.b" aria-label="Copy heading and permalink for Task 1.b">ğŸ”—</a></div></article><article class="task exercise-like" id="lab-6-3-4"><h4 class="heading"><span class="codenumber">(c)</span></h4>
<div class="para" id="lab-6-3-4-1-1">Notice that the equation <span class="process-math">\(\xvec = G \xvec\)</span> is the condition that <span class="process-math">\(\xvec\)</span> be an eigenvector of <span class="process-math">\(G\text{.}\)</span> What is the associated eigenvalue?<div class="autopermalink" data-description="Paragraph"><a href="#lab-6-3-4-1-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<div class="workspace" data-space="0.5in"></div>
<div class="autopermalink" data-description="Task 1.c"><a href="#lab-6-3-4" title="Copy heading and permalink for Task 1.c" aria-label="Copy heading and permalink for Task 1.c">ğŸ”—</a></div></article><article class="task exercise-like" id="lab-6-3-5"><h4 class="heading"><span class="codenumber">(d)</span></h4>
<div class="para" id="lab-6-3-5-1-1">Find the vectors <span class="process-math">\(\xvec\)</span> that satisfy <span class="process-math">\(\xvec = G \xvec\text{.}\)</span><div class="autopermalink" data-description="Paragraph"><a href="#lab-6-3-5-1-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<div class="workspace" data-space="1in"></div>
<div class="autopermalink" data-description="Task 1.d"><a href="#lab-6-3-5" title="Copy heading and permalink for Task 1.d" aria-label="Copy heading and permalink for Task 1.d">ğŸ”—</a></div></article><article class="task exercise-like" id="lab-6-3-6"><h4 class="heading"><span class="codenumber">(e)</span></h4>
<div class="para" id="lab-6-3-6-1-1">You should notice that the solutions from the previous part form a 1-dimensional subspace. Since weâ€™re just interested in the relative size of the entries, we can choose any one of them as the <dfn class="terminology">PageRank vector</dfn>, but only one is a probability vector. Identify the probability vector, and use it to identify which of the three web pages has the highest PageRank and which has the smallest.<div class="autopermalink" data-description="Paragraph"><a href="#lab-6-3-6-1-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<div class="workspace" data-space="1in"></div>
<div class="autopermalink" data-description="Task 1.e"><a href="#lab-6-3-6" title="Copy heading and permalink for Task 1.e" aria-label="Copy heading and permalink for Task 1.e">ğŸ”—</a></div></article><article class="task exercise-like" id="lab-6-3-7"><h4 class="heading"><span class="codenumber">(f)</span></h4>
<div class="para" id="lab-6-3-7-1-1">Explain why <span class="process-math">\(G\)</span> is a stochastic matrix. Why will this always be the case for any internet, assuming that each page has outgoing links?<div class="autopermalink" data-description="Paragraph"><a href="#lab-6-3-7-1-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<div class="workspace" data-space="1in"></div>
<div class="autopermalink" data-description="Task 1.f"><a href="#lab-6-3-7" title="Copy heading and permalink for Task 1.f" aria-label="Copy heading and permalink for Task 1.f">ğŸ”—</a></div></article><article class="task exercise-like" id="lab-6-3-8"><h4 class="heading"><span class="codenumber">(g)</span></h4>
<div class="para" id="lab-6-3-8-1-1">Does <span class="process-math">\(G\)</span> satisfy the hypothesis of the Perron-Frobenius theorem? Explain why or why not. What does this tell us about the behavior of a Markov chain constructed using <span class="process-math">\(G\text{?}\)</span><div class="autopermalink" data-description="Paragraph"><a href="#lab-6-3-8-1-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<div class="workspace" data-space="1in"></div>
<div class="autopermalink" data-description="Task 1.g"><a href="#lab-6-3-8" title="Copy heading and permalink for Task 1.g" aria-label="Copy heading and permalink for Task 1.g">ğŸ”—</a></div></article><article class="task exercise-like" id="lab-6-3-9"><h4 class="heading"><span class="codenumber">(h)</span></h4>
<div class="para" id="lab-6-3-9-1-1">The first cell on the page of Sage cells loaded a function <code class="code-inline tex2jax_ignore">markov(A, x0, n)</code> that prints <span class="process-math">\(n\)</span> vectors in the Markov chain defined by a stochastic matrix <span class="process-math">\(A\)</span> and initial state vector <span class="process-math">\(x_0\text{.}\)</span> Starting with the initial state vector <span class="process-math">\(x_0 = \threevec{1}{0}{0}\text{,}\)</span> generate a Markov chain with <span class="process-math">\(20\)</span> vectors <span class="process-math">\(x_1, \dots, x_{20}\text{.}\)</span> What do you notice about the vectors <span class="process-math">\(x_k\text{?}\)</span> How does this demonstrate the Perron-Frobenius theorem?<div class="autopermalink" data-description="Paragraph"><a href="#lab-6-3-9-1-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<div class="workspace" data-space="1in"></div>
<div class="autopermalink" data-description="Task 1.h"><a href="#lab-6-3-9" title="Copy heading and permalink for Task 1.h" aria-label="Copy heading and permalink for Task 1.h">ğŸ”—</a></div></article><div class="autopermalink" data-description="Worksheet Exercise 1"><a href="#lab-6-3" title="Copy heading and permalink for Worksheet Exercise 1" aria-label="Copy heading and permalink for Worksheet Exercise 1">ğŸ”—</a></div></article><div class="para" id="lab-6-4">
<em class="emphasis">Note</em>: Google is estimated to know about 400 billion (<span class="process-math">\(4 \times 10^{11}\)</span> pages), so the real Google matrix is 400 billion <span class="process-math">\(\times\)</span> 400 billion. Thatâ€™s big, but real applications of linear algebra frequently use huge matrices. Finding the PageRank vector by finding a basis for the eigenspace <span class="process-math">\(E_1\)</span> and using row reduction is not computationally feasible. However, the Perron-Frobenius theorem tells us that any Markov chain will converge to the PageRank vector!<div class="autopermalink" data-description="Paragraph"><a href="#lab-6-4" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<article class="exercise exercise-like" id="lab-6-5"><h3 class="heading"><span class="codenumber">2<span class="period heading-divison-mark heading-divison-mark__period">.</span></span></h3>
<div class="introduction" id="lab-6-5-1">
<div class="para" id="lab-6-5-1-1">Consider the Internet shown below.<div class="autopermalink" data-description="Paragraph"><a href="#lab-6-5-1-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<div class="image-box" style="width: 40%; margin-left: 30%; margin-right: 30%;"><img src="external/internet2.png" class="contained" alt="A directed graph with 8 nodes showing the connections between each."></div>
<div class="para" id="lab-6-5-1-3">The Google matrix for this internet was defined to be <code class="code-inline tex2jax_ignore">G8</code> when you evaluated the first cell. Create a Markov chain with a sufficient number of terms to converge. What do you find for the PageRank vector? Which page is most valuable? Which page is least valuable?<div class="autopermalink" data-description="Paragraph"><a href="#lab-6-5-1-3" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
</div>
<div class="workspace" data-space="6in"></div>
<div class="autopermalink" data-description="Worksheet Exercise 2"><a href="#lab-6-5" title="Copy heading and permalink for Worksheet Exercise 2" aria-label="Copy heading and permalink for Worksheet Exercise 2">ğŸ”—</a></div></article><article class="exercise exercise-like" id="lab-6-6"><h3 class="heading"><span class="codenumber">3<span class="period heading-divison-mark heading-divison-mark__period">.</span></span></h3>
<div class="introduction" id="lab-6-6-1">
<div class="para" id="lab-6-6-1-1">Now consider the new Internet shown below.<div class="autopermalink" data-description="Paragraph"><a href="#lab-6-6-1-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<div class="image-box" style="width: 40%; margin-left: 30%; margin-right: 30%;"><img src="external/internet3.png" class="contained" alt="A directed graph show 1 is connected to 2 is connected to 3 is connected to 4 is connected to 5 is connected to 1."></div>
</div>
<article class="task exercise-like" id="lab-6-6-2"><h4 class="heading"><span class="codenumber">(a)</span></h4>
<div class="para" id="lab-6-6-2-1-1">Find the Google matrix <span class="process-math">\(G\)</span> of this internet.<div class="autopermalink" data-description="Paragraph"><a href="#lab-6-6-2-1-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<div class="workspace" data-space="2in"></div>
<div class="autopermalink" data-description="Task 3.a"><a href="#lab-6-6-2" title="Copy heading and permalink for Task 3.a" aria-label="Copy heading and permalink for Task 3.a">ğŸ”—</a></div></article><article class="task exercise-like" id="lab-6-6-3"><h4 class="heading"><span class="codenumber">(b)</span></h4>
<div class="para" id="lab-6-6-3-1-1">What happens in a Markov chain that begins with <span class="process-math">\(\xvec_0 = \fivevec10000\text{?}\)</span><div class="autopermalink" data-description="Paragraph"><a href="#lab-6-6-3-1-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<div class="workspace" data-space="1in"></div>
<div class="autopermalink" data-description="Task 3.b"><a href="#lab-6-6-3" title="Copy heading and permalink for Task 3.b" aria-label="Copy heading and permalink for Task 3.b">ğŸ”—</a></div></article><article class="task exercise-like" id="lab-6-6-4"><h4 class="heading"><span class="codenumber">(c)</span></h4>
<div class="para" id="lab-6-6-4-1-1">By inspecting this internet, state what you feel the PageRank vector should be. Is any page more important than the others? Explain.<div class="autopermalink" data-description="Paragraph"><a href="#lab-6-6-4-1-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<div class="workspace" data-space="2in"></div>
<div class="autopermalink" data-description="Task 3.c"><a href="#lab-6-6-4" title="Copy heading and permalink for Task 3.c" aria-label="Copy heading and permalink for Task 3.c">ğŸ”—</a></div></article><div class="autopermalink" data-description="Worksheet Exercise 3"><a href="#lab-6-6" title="Copy heading and permalink for Worksheet Exercise 3" aria-label="Copy heading and permalink for Worksheet Exercise 3">ğŸ”—</a></div></article><article class="exercise exercise-like" id="lab-6-7"><h3 class="heading"><span class="codenumber">4<span class="period heading-divison-mark heading-divison-mark__period">.</span></span></h3>
<div class="introduction" id="lab-6-7-1">
<div class="para" id="lab-6-7-1-1">As the last example shows, the Perron-Frobenius theorem may not always apply given the structure of the internet. This means that a Markov chain may not converge or it may converge to a vector with zero entries. For this reason, Google modifies the Google matrix so that the Perron-Frobenius theorem always applies. Letâ€™s describe what happens.<div class="autopermalink" data-description="Paragraph"><a href="#lab-6-7-1-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<div class="para logical" id="lab-6-7-1-2">
<div class="para">If there are <span class="process-math">\(n\)</span> web pages, define the matrix</div>
<div class="displaymath process-math">
\begin{equation*}
H_n = \left[\begin{array}{rrrr}
\frac1n \amp \frac1n \amp \ldots \amp \frac1n \\
\frac1n \amp \frac1n \amp \ldots \amp \frac1n \\
\vdots \amp \vdots \amp \ddots \amp \vdots \\
\frac1n \amp \frac1n \amp \ldots \amp \frac1n \\
\end{array}\right]
\end{equation*}
</div>
<div class="para">This would correspond to an Internet in which every page is linked to every other page, including itself. We now define a modified Google matrix <span class="process-math">\(G'\)</span> by choosing a parameter <span class="process-math">\(\alpha\text{,}\)</span> which is a trade secret but is suspected to be close to <span class="process-math">\(\alpha = 0.85\text{,}\)</span> and defining</div>
<div class="displaymath process-math">
\begin{equation*}
G' = \alpha G + (1-\alpha)H_n\text{,}
\end{equation*}
</div>
<div class="para">which when we take <span class="process-math">\(\alpha = 0.85\)</span> becomes</div>
<div class="displaymath process-math">
\begin{equation*}
G' = 0.85 G + 0.15 H_n\text{.}
\end{equation*}
</div>
<div class="para">In other words, <span class="process-math">\(G'\)</span> is obtained by mixing <span class="process-math">\(85 \%\)</span> of <span class="process-math">\(G\)</span> with <span class="process-math">\(15 \%\)</span> of <span class="process-math">\(H_n\text{.}\)</span> You may use the Sage command <code class="code-inline tex2jax_ignore">modified_google_matrix(G)</code> to produce <span class="process-math">\(G'\text{.}\)</span>
</div>
<div class="autopermalink" data-description="Paragraph"><a href="#lab-6-7-1-2" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
</div>
<article class="task exercise-like" id="lab-6-7-2"><h4 class="heading"><span class="codenumber">(a)</span></h4>
<div class="para" id="lab-6-7-2-1-1">Go back and revisit the Internet having five pages linked together in a cycle. Construct the modified Google matrix <span class="process-math">\(G'\)</span> and explain why the Perron-Frobenius theorem now applies.<div class="autopermalink" data-description="Paragraph"><a href="#lab-6-7-2-1-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<div class="workspace" data-space="2in"></div>
<div class="autopermalink" data-description="Task 4.a"><a href="#lab-6-7-2" title="Copy heading and permalink for Task 4.a" aria-label="Copy heading and permalink for Task 4.a">ğŸ”—</a></div></article><article class="task exercise-like" id="lab-6-7-3"><h4 class="heading"><span class="codenumber">(b)</span></h4>
<div class="para" id="lab-6-7-3-1-1">What do you now find for the PageRank vector using Gâ€™? Does this agree with what you think the PageRank vector should be?<div class="autopermalink" data-description="Paragraph"><a href="#lab-6-7-3-1-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<div class="workspace" data-space="2in"></div>
<div class="autopermalink" data-description="Task 4.b"><a href="#lab-6-7-3" title="Copy heading and permalink for Task 4.b" aria-label="Copy heading and permalink for Task 4.b">ğŸ”—</a></div></article><article class="task exercise-like" id="lab-6-7-4"><h4 class="heading"><span class="codenumber">(c)</span></h4>
<div class="para" id="lab-6-7-4-1-1">Revisit the second Internet whose Google matrix is <code class="code-inline tex2jax_ignore">G8</code> and construct its modified Google matrix, then its PageRank vector. Which page is most important and which is least important? Do the results using the modified Google matrix differ significantly from the original results obtained just using <code class="code-inline tex2jax_ignore">G8</code>?<div class="autopermalink" data-description="Paragraph"><a href="#lab-6-7-4-1-1" title="Copy heading and permalink for Paragraph" aria-label="Copy heading and permalink for Paragraph">ğŸ”—</a></div>
</div>
<div class="workspace" data-space="2in"></div>
<div class="autopermalink" data-description="Task 4.c"><a href="#lab-6-7-4" title="Copy heading and permalink for Task 4.c" aria-label="Copy heading and permalink for Task 4.c">ğŸ”—</a></div></article><div class="autopermalink" data-description="Worksheet Exercise 4"><a href="#lab-6-7" title="Copy heading and permalink for Worksheet Exercise 4" aria-label="Copy heading and permalink for Worksheet Exercise 4">ğŸ”—</a></div></article><div class="autopermalink" data-description="Worksheet: Lab 6: Googleâ€™s PageRank Algorithm"><a href="#lab-6" title="Copy heading and permalink for Worksheet: Lab 6: Googleâ€™s PageRank Algorithm" aria-label="Copy heading and permalink for Worksheet: Lab 6: Googleâ€™s PageRank Algorithm">ğŸ”—</a></div></section></div>
<div id="ptx-content-footer" class="ptx-content-footer">
<a class="previous-button button" href="lab-5.html" title="Previous"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5cb;</span><span class="name">Prev</span></a><a class="top-button button" href="#" title="Top"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5ce;</span><span class="name">Top</span></a><span class="next-button button disabled"><span class="name">Next</span><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5cc;</span></span>
</div></main>
</div>
<div id="ptx-page-footer" class="ptx-page-footer">
<a class="pretext-link" href="https://pretextbook.org" title="PreTeXt"><div class="logo"><svg xmlns="http://www.w3.org/2000/svg" height="100%" viewBox="338 3000 8772 6866" role="img"><title>PreTeXt logo</title><g style="stroke-width:.025in; stroke:currentColor; fill:none"><polyline points="472,3590 472,9732 " style="stroke-width:174; stroke-linejoin:miter; stroke-linecap:round; "></polyline><path style="stroke-width:126;stroke-linecap:butt;" d="M 4724,9448 A 4660 4660  0  0  1  8598  9259"></path><path style="stroke-width:174;stroke-linecap:butt;" d="M 4488,9685 A 4228 4228  0  0  0   472  9732"></path><path style="stroke-width:126;stroke-linecap:butt;" d="M 4724,3590 A 4241 4241  0  0  1  8598  3496"></path><path style="stroke-width:126;stroke-linecap:round;" d="M 850,3496  A 4241 4241  0  0  1  4724  3590"></path><path style="stroke-width:126;stroke-linecap:round;" d="M 850,9259  A 4507 4507  0  0  1  4724  9448"></path><polyline points="5385,4299 4062,8125" style="stroke-width:300; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="8598,3496 8598,9259" style="stroke-width:126; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="850,3496 850,9259" style="stroke-width:126; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="4960,9685 4488,9685" style="stroke-width:174; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="3070,4582 1889,6141 3070,7700" style="stroke-width:300; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="6418,4582 7600,6141 6418,7700" style="stroke-width:300; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="8976,3590 8976,9732" style="stroke-width:174; stroke-linejoin:miter; stroke-linecap:round;"></polyline><path style="stroke-width:174;stroke-linecap:butt;" d="M 4960,9685 A 4228 4228  0  0  1  8976  9732"></path></g></svg></div></a><a class="runestone-link" href="https://runestone.academy" title="Runestone Academy"><img class="logo" src="https://runestone.academy/runestone/static/images/RAIcon_cropped.png" alt="Runstone Academy logo"></a><a class="mathjax-link" href="https://www.mathjax.org" title="MathJax"><img class="logo" src="https://www.mathjax.org/badge/badge-square-2.png" alt="MathJax logo"></a>
</div>
</body>
</html>
